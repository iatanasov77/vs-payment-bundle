{% import "@VSApplication/Macros/form.html.twig" as vs_form %}
{% import "@VSApplication/Macros/tree.html.twig" as vs_tree %}

{% if(item.id) %}{% set method = "PUT" %}{% else %}{% set method = "POST" %}{% endif %}
{{ form_start(form, { 'attr': {'class': 'form-horizontal '}, 'method': method }) }}
    <label class="custom-control custom-checkbox">  
        <input type="checkbox" id="pricing_plan_form_enabled"
            class="custom-control-input form-check-input"
            name="pricing_plan_form[enabled]"
            value="{{ item.enabled }}"
            {% if item.enabled %}checked="checked"{% endif %}
        />
        <span class="custom-control-label">{{ 'vs_payment.form.active' | trans( {},'VSPaymentBundle' ) }}</span>
    </label>
    
    <div class="form-group">
        {{ form_label(form.locale, null, {
            'label_attr': {'class': 'col-form-label'}
            }) 
        }}
        
        {{ form_widget(form.locale, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    {% include '@VSPayment/Pages/PricingPlans/partial/pricing_plan_form_category.html.twig' %}
    
    <div class="form-group">
        {{ form_label(form.title, null, {
            'label_attr': {'class': 'col-form-label'}
            }) 
        }}
        
        {{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    <div class="form-group">
        {{ form_label(form.description, null, {
            'label_attr': {'class': 'col-form-label'}
            }) 
        }}
        
        {{ form_widget(form.description, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    <div class="form-group">
        {{ form_label(form.price, null, {
            'label_attr': {'class': 'col-form-label'}
            }) 
        }}
        
        {{ form_widget(form.price, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    <div class="form-group">
        {{ form_label(form.currency, null, {
            'label_attr': {'class': 'col-form-label'}
            }) 
        }}
        
        {{ form_widget(form.currency, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    <fieldset class="border border-dark rounded p-3">
        <legend class="w-auto float-none ps-2 pe-2">{{ 'vs_payment.form.pricing_plan.set_as_premium' | trans( {},'VSPaymentBundle' ) }}</legend>
        
        <div class="premiumContainer"
            <div class="form-group">
                <label class="custom-control custom-checkbox">  
                    <input type="checkbox" id="pricing_plan_form_premium"
                        class="custom-control-input form-check-input"
                        name="pricing_plan_form[premium]"
                        value="{{ item.premium }}"
                        {% if item.premium %}checked="checked"{% endif %}
                    />
                    <span class="custom-control-label">{{ 'vs_payment.form.pricing_plan.premium' | trans( {},'VSPaymentBundle' ) }}</span>
                </label>
            </div>
            
            <div class="form-group">
                {{ form_label(form.discount, null, {
                    'label_attr': {'class': 'col-form-label'}
                    }) 
                }}
                
                {{ form_widget(form.discount, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
    </fieldset>

    <div class="row">&nbsp;</div>
    
    {#
    <fieldset class="border border-dark rounded p-3">
        <legend class="w-auto float-none ps-2 pe-2">Paid Services</legend>
        <div id="paidServicesContainer"
            data-prototype="{% apply escape %}{% include '@VSPayment/Pages/PricingPlans/partial/add-paid-service-prototype.html.twig' with {'form': form.paidServicesData.vars.prototype} %}{% endapply %}"
        > 
            {% for paidService in form.paidServicesData %}
                {% include '@VSPayment/Pages/PricingPlans/partial/add-paid-service-prototype.html.twig' with {'form': paidService} %}
            {% endfor %}
        </div>
    </fieldset>
    
    <div class="row">&nbsp;</div>
    #}
    <div class="form-group">
        {{ form_label(form.paidServicesData, null, {
            'label_attr': {'class': 'col-form-label'}
            }) 
        }}
        
        {{ form_widget(form.paidServicesData, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    {{ vs_form.buttons( form ) }}
{{ form_end(form, {'render_rest': false}) }}
