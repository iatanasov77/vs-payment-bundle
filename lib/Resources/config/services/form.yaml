parameters:

    # GatewayConfig Form Options
    ##########################################################
    vs_payment.gateway_factories:
        - 'offline'
        - 'offline_bank_transfer'
        - 'paypal_rest'
        - 'paypal_express_checkout'
        - 'paypal_pro_checkout'
        - 'stripe_checkout'
        - 'stripe_js'
        - 'paysera'
        - 'borica'
        - 'authorize_net_aim'
        
    vs_payment.form.type.currency.validation_groups:
        - 'VSPaymentBundle'
    vs_payment.form.type.exchange_rate.validation_groups:
        - 'VSPaymentBundle'

services:
    vs_payment.resources.gateway_config.form:
        class: Vankosoft\PaymentBundle\Form\GatewayConfigForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.gateway_config.class%'
            - '%vs_payment.gateway_factories%'
            - '%vs_payment.model.currency.class%'

    vs_payment.resources.payment_method.form:
        class: Vankosoft\PaymentBundle\Form\PaymentMethodForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.payment_method.class%'
            - '%vs_payment.model.gateway_config.class%'
    
    vs_payment.resources.currency.form:
        class: Vankosoft\PaymentBundle\Form\CurrencyForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.currency.class%'
            - '%vs_payment.form.type.currency.validation_groups%'
            
    vs_payment.form.type.currency_choice:
        class: Vankosoft\PaymentBundle\Form\Type\CurrencyChoiceType
        tags:
            - { name: form.type }
        arguments:
            - '@vs_payment.repository.currency'
    
    vs_payment.resources.exchange_rate.form:
        class: Vankosoft\PaymentBundle\Form\ExchangeRateForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.exchange_rate.class%'
            - '%vs_payment.form.type.exchange_rate.validation_groups%'
    
    vs_payment.resources.product_category.form:
        class: Vankosoft\PaymentBundle\Form\ProductCategoryForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.product_category.class%'
            - '@request_stack'
            - '@vs_application.repository.locale'
            - '@vs_payment.repository.product_category'
            
    vs_payment.resources.product.form:
        class: Vankosoft\PaymentBundle\Form\ProductForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.product.class%'
            - '@request_stack'
            - '@vs_application.repository.locale'
            - '%vs_payment.model.product_category.class%'
            - '%vs_payment.model.currency.class%'
    
    Vankosoft\PaymentBundle\Form\Type\ProductPictureType:
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.product_picture.class%'
            
    vs_payment.resources.pricing_plan_category.form:
        class: Vankosoft\PaymentBundle\Form\PricingPlanCategoryForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.pricing_plan_category.class%'
            - '@request_stack'
            - '@vs_application.repository.locale'
            - '@vs_payment.repository.pricing_plan_category'
            
    vs_payment.resources.pricing_plan.form:
        class: Vankosoft\PaymentBundle\Form\PricingPlanForm
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.pricing_plan.class%'
            - '@request_stack'
            - '@vs_application.repository.locale'
            - '%vs_payment.model.pricing_plan_category.class%'
            - '%vs_users_subscriptions.model.payed_service_subscription_period.class%'
            
    Vankosoft\PaymentBundle\Form\SelectPricingPlanForm:
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.pricing_plan.class%'
            - '%vs_payment.model.payment_method.class%'
            - '@vs_payment.repository.pricing_plan'
            
    Vankosoft\PaymentBundle\Form\Type\PricingPlanPaidServiceType:
        tags:
            - { name: form.type }
        arguments:
            - '%vs_users_subscriptions.model.payed_service_subscription_period.class%'


