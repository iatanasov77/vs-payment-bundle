services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: true
        
    ########################################################################
    # Custom Stripe Actions
    ########################################################################
    Vankosoft\PaymentBundle\Form\StripeSubscriptionPlanForm:
        tags:
            - { name: form.type }
        arguments:
            - '%vs_payment.model.currency.class%'
            
    Vankosoft\PaymentBundle\Form\StripeSubscriptionPriceForm:
        tags:
            - { name: form.type }
        arguments:
            - '@vs_payment.stripe_api'
            - '%vs_payment.model.currency.class%'
            - '%vs_payment.model.pricing_plan.class%'
    
    vs_payment.stripe_api:
        class: Vankosoft\PaymentBundle\Component\Payum\Stripe\Api
        arguments:
            - '@payum'
            
    vs_payment.stripe_list_plans:
        class: Vankosoft\PaymentBundle\Component\Payum\Stripe\Action\Api\GetPlansAction
        tags:
            - { name: payum.action, factory: stripe_js }
            
    vs_payment.stripe_list_products:
        class: Vankosoft\PaymentBundle\Component\Payum\Stripe\Action\Api\GetProductsAction
        tags:
            - { name: payum.action, factory: stripe_js }
            
    vs_payment.stripe_create_product:
        class: Vankosoft\PaymentBundle\Component\Payum\Stripe\Action\Api\CreateProductAction
        tags:
            - { name: payum.action, factory: stripe_js }
            
    vs_payment.stripe_list_prices:
        class: Vankosoft\PaymentBundle\Component\Payum\Stripe\Action\Api\GetPricesAction
        tags:
            - { name: payum.action, factory: stripe_js }
            
    vs_payment.stripe_create_price:
        class: Vankosoft\PaymentBundle\Component\Payum\Stripe\Action\Api\CreatePriceAction
        tags:
            - { name: payum.action, factory: stripe_js }


